# Data Sources Configuration

exchanges:
  min_required: 7
  outlier_threshold_pct: 3.0
  backfill_max_consecutive_missing: 2
  interpolation_max_hours: 3
  forward_fill_max_hours: 24
  
  apis:
    binance:
      url: "https://api.binance.com/api/v3/ticker/price"
      symbol_format: "{base}{quote}"  # BTCUSDT
      rate_limit: 1200  # requests per minute
      
    coinbase:
      url: "https://api.coinbase.com/v2/prices/{symbol}/spot"
      symbol_format: "{base}-{quote}"  # BTC-USD
      rate_limit: 10
      
    kraken:
      url: "https://api.kraken.com/0/public/Ticker"
      symbol_format: "X{base}{quote}"  # XBTUSD
      rate_limit: 15
      
    okx:
      url: "https://www.okx.com/api/v5/market/ticker"
      symbol_format: "{base}-{quote}"  # BTC-USDT
      rate_limit: 20
      
    kucoin:
      url: "https://api.kucoin.com/api/v1/market/orderbook/level1"
      symbol_format: "{base}-{quote}"  # BTC-USDT
      rate_limit: 30
      
    gateio:
      url: "https://api.gateio.ws/api/v4/spot/tickers"
      symbol_format: "{base}_{quote}"  # BTC_USDT
      rate_limit: 900
      
    bitstamp:
      url: "https://www.bitstamp.net/api/v2/ticker/{symbol}"
      symbol_format: "{base}{quote}"  # btcusd (lowercase)
      rate_limit: 8000
      
    gemini:
      url: "https://api.gemini.com/v1/pubticker/{symbol}"
      symbol_format: "{base}{quote}"  # btcusd (lowercase)
      rate_limit: 120
      
    cryptocom:
      url: "https://api.crypto.com/v2/public/get-ticker"
      symbol_format: "{base}_{quote}"  # BTC_USD
      rate_limit: 100
      
    bybit:
      url: "https://api.bybit.com/v5/market/tickers"
      symbol_format: "{base}{quote}"  # BTCUSDT
      rate_limit: 120

macro:
  fred:
    base_url: "https://api.stlouisfed.org/fred"
    api_key_env: "FRED_API_KEY"
    series:
      us10y: "DGS10"
      m2_supply: "WM2NS"
      vix: "VIXCLS"
    max_missing_days_daily: 7
    max_missing_days_monthly: 30
    
  yahoo_finance:
    symbols:
      nasdaq: "^IXIC"
      gold: "GC=F"
      dxy: "DX-Y.NYB"
      spx: "^GSPC"

sentiment:
  fear_greed:
    url: "https://api.alternative.me/fng/"
    rolling_windows: [7, 14]
    
  cryptopanic:
    base_url: "https://cryptopanic.com/api/v1"
    api_key_env: "CRYPTOPANIC_API_KEY"
    filters:
      - "news"
      - "media"
    currencies: ["BTC", "ETH", "SOL", "BNB"]
    
  lunarcrush:
    base_url: "https://api.lunarcrush.com/v2"
    api_key_env: "LUNARCRUSH_API_KEY"
    metrics:
      - "social_volume"
      - "social_sentiment"
      - "galaxy_score"

onchain:
  coinmetrics:
    base_url: "https://community-api.coinmetrics.io/v4"
    metrics:
      - "AdrActCnt"
      - "TxCnt"
      - "FeeTotUSD"
      - "NVTAdj90"
    assets: ["btc", "eth", "sol"]
    
  cryptoquant:
    base_url: "https://api.cryptoquant.com/v1"
    api_key_env: "CRYPTOQUANT_API_KEY"
    metrics:
      - "exchange_flows_balance"
      - "miner_to_exchange_flow"
      - "mvrv_z_score"

derivatives:
  binance_futures:
    base_url: "https://fapi.binance.com"
    endpoints:
      funding_rate: "/fapi/v1/fundingRate"
      open_interest: "/fapi/v1/openInterest"
      
  bybit:
    base_url: "https://api.bybit.com/v5"
    endpoints:
      funding_rate: "/market/funding/history"
      open_interest: "/market/open-interest"
      
  deribit:
    base_url: "https://www.deribit.com/api/v2/public"
    api_key_env: "DERIBIT_API_KEY"
    instruments: ["BTC-PERPETUAL"]

economic_calendar:
  events:
    - name: "FOMC"
      lookback_days: 3
      lookforward_days: 3
    - name: "CPI"
      lookback_days: 3
      lookforward_days: 3
    - name: "NFP"  # Non-Farm Payrolls
      lookback_days: 3
      lookforward_days: 3
    - name: "JOLTS"
      lookback_days: 3
      lookforward_days: 3

walk_forward:
  embargo_days: 3
  min_windows: 12
  train_window_months: 12
  validation_window_months: 2
  test_window_months: 1

retry:
  max_attempts: 3
  base_delay_seconds: 1
  max_delay_seconds: 60
  exponential_base: 2

